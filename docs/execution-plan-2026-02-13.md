# Human Pulse AI 실행계획 (2026-02-13)

## 1) 목적
기능구현정의서(`0204_1차_기능구현정의서.xlsx`)와 현재 코드베이스를 비교해, 구현 우선순위와 Sprint 단위 실행 백로그를 확정한다.

## 2) 범위
- In Scope: `AUTH`, `DB`, `NEWS`, `HUE BOT`, `JRN`, `ADM`, `A11Y`, `LOCALE`, `TEST`.
- Out of Scope(본 계획서 기준): 대규모 리브랜딩, 신규 외부 결제사업자 변경, 인프라 전면 교체.

## 3) 현재 상태 요약 (Gap Summary)

### 3.1 이미 구현됨 (핵심)
- 기본 라우팅 및 페이지 골격: Home/Emotion/Community/Pricing/Settings/Journalist/Admin/Login.
- 관리자 검수 기본 기능: 숨김/게시 토글, 검수완료, 이슈 등록, 메모 저장, Excel/PDF Export.
- AI 엔드포인트 기본군: 뉴스 생성, 챗, 문법/해시태그/타이틀/감정분석/번역/이미지/영상.
- `article_reviews` 기반 검수 상태 저장 로직(issues/memo/completed).

### 3.2 부분 구현
- AUTH: 이메일 로그인/가입, 구글 OAuth는 있으나 OTP/계정찾기/비번찾기/락아웃/세션복구는 미완성.
- NEWS: 감정별 목록/상세는 있으나 검색, 무한스크롤+프리페치, 고급 필터 정교화 부족.
- HUE BOT: 플로팅/채팅 기본은 있으나 Intent 경량분류, 15분 룰, 편향 경고, 중립 재질문 흐름 미흡.
- JRN: 기사 작성 툴 다수 존재하나 버전관리형 편집기/컴플라이언스 체인/배포 패키지 정합성 보완 필요.

### 3.3 미구현 또는 리스크 높음
- 정의서 기준 DB 엔터티 전체(guest_sessions, analytics_events, insights, pipeline_jobs 등)와 실제 스키마 간 갭.
- i18n 구조(LOCALE key 체계) 미흡 및 일부 한글 깨짐(인코딩) 이슈.
- QA 게이트: `lint/test` 스크립트 부재로 회귀 안정성 보장 약함.

## 4) 추진 원칙
- 작은 단위, 안전한 배포, 회귀 최소화.
- UX 맥락 보존(카드→상세→복귀) 최우선.
- Story Spec(JSON) 중심으로 AI 출력 정규화.
- 각 Sprint 종료 시 "실사용 시나리오 통과" 기준으로 품질 게이트 운영.

## 5) Sprint 로드맵 (권장)

## Sprint 0 (P0/S0): 기반 안정화
목표: 스키마/품질 게이트/공통 규칙을 먼저 고정.

### 백로그
- [S0-1] DB 기준선 정합화
  - 작업: `shared/schema.ts`와 마이그레이션 정의를 기능정의서 DB 항목 기준으로 매핑 테이블 작성.
  - 산출물: `docs/db-gap-matrix.md`, 신규 migration 초안.
  - AC: 테이블별 "현황/추가/변경/보류"가 100% 식별됨.
- [S0-2] 테스트 스크립트 정비
  - 작업: `package.json`에 `lint`, `test`, `typecheck` 파이프라인 추가.
  - AC: 로컬에서 3개 명령 실행 가능, 실패 시 원인 가시화.
- [S0-3] 인코딩 가드
  - 작업: 깨진 한글 문자열 탐지 룰 및 교정 체크리스트 추가.
  - AC: 주요 사용자 노출 화면에서 깨진 문자열 0건.
- [S0-4] Admin/News 핵심 회귀 테스트케이스 정의
  - 작업: 숨김/게시, 이슈 CRUD, 메모 저장, 목록 반영 시나리오 문서화.
  - AC: 수동 테스트 20개 케이스 초안 완료.

## Sprint 1 (P1/S1): AUTH + 기본 접근성/로케일
목표: 로그인/가입 플로우를 정의서 기준선에 맞추고 공통 UX 품질 확보.

### 백로그
- [S1-1] AUTH Landing 재구성
  - 작업: 로그인/회원가입/게스트 CTA + KR/EN 토글.
  - AC: 첫 진입 시 3 CTA + locale persist(localStorage/cookie).
- [S1-2] OTP 기반 가입 보완
  - 작업: 휴대폰 OTP 검증 흐름, 재전송 쿨다운(60s), 횟수 제한.
  - AC: OTP 검증 전 가입 완료 불가.
- [S1-3] 아이디/비번 찾기 플로우
  - 작업: find-id, reset-password request/confirm 화면+API.
  - AC: 만료 토큰, 약한 비밀번호 오류 처리 노출.
- [S1-4] 약관/개인정보 동의 버전 저장
  - AC: 필수 동의 누락 시 가입 차단, consent row 저장.
- [S1-5] A11Y 1차
  - 작업: 대비(AA), 키보드 포커스 링, 모달 포커스트랩 표준화.
  - AC: 주요 페이지 키보드 탐색 가능.
- [S1-6] 로케일 키 표준화 1차
  - 작업: 하드코딩 문구 key 이전(로그인/공통 버튼 우선).
  - AC: AUTH 영역 문자열 key 기반 렌더.

## Sprint 2 (P2/S2): NEWS/HUE 핵심 경험 고도화
목표: 사용자 핵심 사용경로(뉴스 탐색 + Hue Bot) 완성.

### 백로그
- [S2-1] NEWS 카드/레이아웃 규칙 확정
  - 작업: 카드 밀도/간격/가독성 튜닝, 모바일 터치 피드백 강화.
  - AC: 모바일/태블릿/데스크톱에서 레이아웃 붕괴 0건.
- [S2-2] 검색 + 필터/정렬 체계화
  - 작업: 검색바, 감정/출처/기간 필터, 정렬 옵션 통합.
  - AC: 검색/필터 조합 결과 정확성 확인.
- [S2-3] 무한 스크롤 + 프리페치
  - AC: 스크롤 체감 지연 감소, 중복/누락 로드 없음.
- [S2-4] 모달 읽기 UX 개선
  - 작업: 저장/공유/Add Insight 고정 액션, 본문 리듬 보강.
  - AC: 상세 진입/복귀 시 맥락 유지.
- [S2-5] Hue Bot 기본 정책 고도화
  - 작업: intent classifier(경량), 추천 응답 일관성, fallback 강화.
  - AC: 주요 질문군 의도 분류 정확도 목표치 설정(예: 80%+).
- [S2-6] 프라이버시 고지 및 채팅 로그 정책 표시
  - AC: 수집/보관/비식별화 안내 UI 제공.

## Sprint 3 (P3/S3): Journalist Workflow 안정화
목표: 기자 작업 플로우를 "생성→편집→검증→발행"으로 일관화.

### 백로그
- [S3-1] AI Wizard 단계 분리
  - 작업: 주제→자료수집→키워드→아웃라인→초안 단계화.
  - AC: 단계별 저장/복구 가능.
- [S3-2] 초안 편집기 버전관리
  - 작업: 버전 스냅샷, 비교, 되돌리기.
  - AC: 최소 5개 버전 롤백 가능.
- [S3-3] 문장교정/제목최적화/해시태그 결과 통합 패널
  - AC: 결과 적용/취소 UX 일관.
- [S3-4] 감정분석 자동-수동 선택 로직 정교화
  - AC: 자동 추천 + 수동 override 충돌 없음.
- [S3-5] 에러 재시도 UX
  - AC: AI 오류 시 단계 재시도/부분 재실행 가능.

## Sprint 4 (P4/S4): AI 안전성/편향/인터랙티브 스토리
목표: 품질과 정책 리스크를 낮추고 스토리 인터랙션 완성.

### 백로그
- [S4-1] Story Spec JSON 강제 경로 완성
  - 작업: raw HTML 우회 차단, 스키마 검증 실패 시 fallback.
  - AC: 스펙 불일치 응답의 안전 렌더 100%.
- [S4-2] 컴플라이언스/저작권/팩트체크 보조 체인
  - AC: 위험 플래그와 수정 제안 출력.
- [S4-3] Hue Bot 편향 경고 + 중립 재질문 + 15분 룰
  - AC: 트리거 조건별 안내 UX 동작.
- [S4-4] AI 추천/요약 모듈을 News Modal과 정합 연결
  - AC: 모달 내 AI 기능 동작 일관.

## Sprint 5 (P5/S5): 운영/관리 고도화
목표: Admin 운영 효율과 UGC 생태계 강화.

### 백로그
- [S5-1] Admin 홈 지표 품질 향상
  - 작업: KPI 정의 재정렬(게시/숨김/이슈/검수 SLA).
  - AC: 지표 정의 문서 + UI 반영.
- [S5-2] 신고/제재/액션로그 연결
  - AC: 관리자 액션 추적 가능.
- [S5-3] UGC Insight 전주기
  - 작업: 작성/교정/임시저장/게시/공유/SEO 패키지.
  - AC: 게스트 작성 제한 포함 정책 일관 적용.
- [S5-4] 대화 히스토리 정책(보관기간/삭제요청)
  - AC: 사용자 요청 기반 삭제 처리.

## Sprint 6 (P6/S6): 릴리즈 하드닝
목표: 운영 안정화, 알림/백업/릴리즈 기준 확정.

### 백로그
- [S6-1] 데이터 Export/백업 자동화
- [S6-2] 운영 알림 체계(실패율/지연/AI 오류율)
- [S6-3] 최종 성능/회귀 점검 및 릴리즈 체크리스트

## 6) 역할별 실행 책임 (AGENTS)

### PM
- 요구사항-코드 매핑표 소유.
- Sprint 단위 범위통제와 Acceptance Criteria 확정.
- 블로커/의존성 우선순위 조정.

### UX
- 반응형 레이아웃 기준(Desktop/Tablet/Mobile) 유지.
- 상태 일관성(hover/active/loading/error/empty) 명세.
- 밀도/가독성 우선 조정(기능 추가보다 우선).

### BUILDER
- API/DB/UI 계약 불일치 제거.
- Story Spec JSON, Hue Bot 정책, Admin 동기화 로직 구현.
- 마이그레이션과 코드 변경의 원자성 유지.

### QA
- 회귀 중심 테스트: 숨김/게시, 모달 복귀, 저장/공유, 권한 분기.
- Three.js 성능/메모리 누수 점검(render loop, dispose).
- 실패 원인/우회/영향 문서화.

## 7) 우선순위 매트릭스
- P0: 스키마/테스트/인코딩/회귀기준.
- P1: AUTH 완성, A11Y/LOCALE 기초.
- P2: NEWS 탐색성 + HUE 기본 고도화.
- P3: Journalist 생산성.
- P4: AI 안전성과 인터랙티브 완성.
- P5~P6: 운영확장/하드닝.

## 8) 리스크 및 대응
- 인코딩 깨짐: 파일 인코딩/폰트/문구 key 통합으로 예방.
- Supabase RLS/권한 오류: 서버 경유 API 우선, 클라이언트 직접 write 최소화.
- AI 응답 비결정성: 스키마 검증 + fallback + 재시도/backoff.
- 회귀 확산: 기능별 테스트 시트와 pre-release smoke 필수.

## 9) Definition of Done (Sprint 공통)
- 기능 AC 100% 충족.
- 주요 회귀 케이스 통과.
- 에러/예외 메시지 사용자 이해 가능.
- 성능 저하/치명 버그 없음.
- 문서(변경점, 테스트 결과, 잔여 리스크) 업데이트 완료.

## 10) 즉시 착수 권장 순서 (다음 1주)
1. S0-1 DB 갭 매트릭스 확정.
2. S0-2 QA 스크립트(`lint/test/typecheck`) 추가.
3. S1-1~S1-3 AUTH 핵심 플로우 구현.
4. S2-1~S2-2 NEWS 검색/필터 정비.
5. S2-5 Hue Bot intent/fallback 개선.
