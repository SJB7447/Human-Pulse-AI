# 2026-02-19 기자포털 한국어 중심 실행계획

## 1. 목표
- 기자포털의 기본 작성 언어를 **한국어(ko-KR)** 로 고정하고, 사용자 노출 문구를 전면 한글화한다.
- 작성 경험을 `핵심 작성 플로우`와 `고급 도구`로 분리해 복잡도를 낮춘다.
- 롱폼 기사 구조(핵심 이슈 -> 심화 시사점/배경 톤 전환 -> 결론)와 미디어 슬롯 편집(이미지/영상 추가/삭제/위치/순서)을 운영 가능한 수준으로 고도화한다.

## 2. 오늘 기준 문제 정의 (2026-02-19)
- AI 응답 fallback이 영어 중심으로 출력되어 한국어 기사 작성 맥락이 깨짐.
- 메뉴/버튼/도움말 일부가 영문으로 표기되어 사용자 이해도 저하.
- `키워드 검색 -> 아웃라인 -> 초안` 단계에서 한국어 일관성 보장 로직이 약함.
- 미디어 슬롯은 기능은 있으나, 한국어 라벨/가이드/검증 규칙이 부족함.

## 3. 실행 원칙
- 기본값 우선: 한국어 기본, 영어는 옵션.
- 사용자 노출 텍스트 우선: 내부 식별자(예: deepDive)는 유지하되 UI는 한글화.
- 실패 가시화: fallback 발생 시 숨기지 말고 명시.
- 작은 단위 릴리스: 한 번에 전부 바꾸지 않고 단계별 검증 후 확장.

## 4. 범위
### 4.1 유지
- 기본 작성 플로우: 키워드 분석 -> 아웃라인 -> 초안 -> 발행.
- 기사 목록/수정/삭제.
- AI 보조 기능(문법/번역/해시태그/제목/컴플라이언스/미디어 생성).

### 4.2 추가
- 한국어 출력 강제 정책(프롬프트/서버 fallback/클라이언트 후처리).
- UI 라벨 한글 사전(버튼/패널/상태/에러/토스트).
- 롱폼 품질 게이트: 문단 수, 섹션 커버리지, 한글 비율, 미디어 앵커 무결성.
- 미디어 슬롯 편집 UX 개선: 이미지/영상 추가/삭제/순서 이동/위치 지정/캡션 한글 가이드.

### 4.3 축소/정리
- 작성 1차 화면에서 고급 기능 상시 노출 최소화.
- 중복 재생성 버튼/중복 상태 메시지 통합.
- 영어 데모 문구/플레이스홀더 제거.

## 5. UI 한글화 기준 (메뉴/버튼/상태)
- `Keyword Search` -> `키워드 검색`
- `Generate Outline` -> `개요 생성`
- `Draft` -> `초안`
- `Media slots` -> `미디어 배치`
- `Add image` -> `이미지 추가`
- `Add video` -> `영상 추가`
- `before / inline / after` -> `앞 / 문단 중간 / 뒤`
- `core / deepDive / conclusion`(UI) -> `핵심 / 심화 시사점 / 결론`
- `fallback used` -> `AI 응답 지연으로 기본안이 적용되었습니다`

주의:
- 내부 데이터 키는 유지(`core`, `deepDive`, `conclusion`)하고, 표시 텍스트만 한글화한다.

## 6. 기술 적용 계획
### Phase 1. 한국어 기본 정책 고정 (우선)
- 서버(`server/routes.ts`)
  - `/api/ai/analyze-keyword`, `/api/ai/generate-outline`, `/api/ai/generate-draft` 프롬프트에 `반드시 한국어로 작성` 규칙 추가.
  - fallback 문구를 전부 한국어로 교체.
  - 응답 메타 필드 유지: `fallbackUsed`.
- 클라이언트(`client/src/services/gemini.ts`)
  - API 타입은 유지하고, 한국어 기본 정책 주석/계약 명시.
- 수용 기준
  - 정상/실패 경로 모두 한국어 결과 반환.

### Phase 2. 기자포털 UI 한글화 + 핵심/고급 분리
- 클라이언트(`client/src/pages/journalist.tsx`)
  - 단계명/버튼/패널/토스트/에러를 한글로 통일.
  - 화면 구조를 `핵심 작성`과 `고급 도구(접기)`로 분리.
  - fallback 경고 배너를 한국어로 명확히 표시.
- 수용 기준
  - 첫 화면에서 영어 UI 텍스트 0건.
  - 핵심 플로우 클릭 수 감소(검색->개요->초안->발행 동선 단순화).

### Phase 3. 롱폼 + 미디어 슬롯 품질 강화
- 클라이언트
  - 미디어 슬롯 편집 UI 라벨을 한글화.
  - 앵커/위치 선택값의 한국어 표시 제공.
- 서버
  - 초안 생성 시 섹션별 최소 길이/문단 수 기준 체크(미달 시 경고).
- 수용 기준
  - 미디어 편집 5개 동작(추가/삭제/타입변경/위치변경/순서이동) 통과.
  - 섹션 구조 미충족 시 발행 전 경고.

### Phase 4. 발행 전 품질 게이트
- 게이트 항목
  - 한국어 비율(예: 한글 문자 비율 최소 기준)
  - 섹션 충족(핵심/심화/결론)
  - 미디어 앵커 무결성
  - 접근성(이미지 alt/캡션)
- 수용 기준
  - 게이트 실패 시 발행 차단 또는 명확 경고.

## 7. 역할별 실행 항목
### PM
- 용어 사전 확정(한글 표기 표준) 및 변경 범위 고정.
- 각 Phase 완료 기준 승인.

### UX
- 한글 UI 가독성 기준 수립(행간/여백/버튼 밀도).
- 모바일에서 고급 도구 기본 접힘 유지.

### Builder
- 서버 프롬프트/폴백 한국어화.
- 기자포털 텍스트 리소스 정리(상수화) 및 화면 반영.
- 미디어 슬롯 한국어 레이블/가이드 적용.

### QA
- 회귀: 작성/수정/발행/목록 복귀.
- 언어: 영어 노출 잔존 여부 점검.
- 인코딩: UTF-8 깨짐 여부 점검.

## 8. 검증 시나리오
1. `키워드 검색` 실행 -> 컨텍스트/토픽이 한국어로 표시.
2. `개요 생성` 실행 -> 한국어 번호형 개요 생성.
3. `초안 생성` 실행 -> 롱폼 한국어 초안 + 섹션 구조 확인.
4. `미디어 배치`에서 이미지/영상 추가 후 순서 이동/위치 변경/삭제.
5. fallback 강제 상황에서 한국어 경고 메시지 확인.
6. 발행 전 품질 게이트 결과 확인 후 발행.

## 9. 완료 정의 (Definition of Done)
- 사용자 노출 문구 영어 잔존 0건(의도적 고유명 제외).
- AI 결과(정상/폴백) 한국어 일관성 확보.
- 미디어 슬롯 편집 기능 정상 동작.
- `npm run lint`, `npm test`, `npm run test:encoding` 통과.

## 10. 오늘 실행 우선순위
1. 서버 프롬프트/폴백 한국어 강제 문구 정리.
2. 기자포털 메뉴/버튼/상태 문구 한글화.
3. 미디어 슬롯 UI 한글 라벨 및 안내 문구 적용.
4. fallback 경고 배너/토스트 한글화.
5. 검증 스크립트 실행 및 결과 기록.
